@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Optimisations Mobile Globales */
@layer base {
  /* Améliorer la lisibilité sur mobile */
  html {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  .budget-page,
  .app-page {
    font-family: 'Space Grotesk', 'Segoe UI', sans-serif;
    font-variant-numeric: tabular-nums;
  }

  /* Optimiser les touches tactiles */
  button, [role="button"], input[type="submit"], input[type="button"] {
    @apply min-h-[44px] min-w-[44px];
  }

  /* Améliorer les zones de clic sur mobile */
  @media (max-width: 768px) {
    .touch-target {
      @apply min-h-[48px] min-w-[48px];
    }
  }
}

@layer components {
  /* Container responsive optimisé */
  .mobile-container {
    @apply px-3 sm:px-4 md:px-6 lg:px-8;
  }

  /* Grille responsive pour cartes */
  .mobile-grid {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-4 lg:gap-6;
  }

  /* Texte responsive */
  .mobile-text {
    @apply text-sm md:text-base;
  }

  .mobile-title {
    @apply text-lg md:text-xl lg:text-2xl;
  }

  /* Espacement responsive */
  .mobile-spacing {
    @apply space-y-3 md:space-y-4 lg:space-y-6;
  }

  /* Classes pour les nouvelles fonctionnalités d'interface */
  .invoice-card {
    @apply bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden border border-gray-200 hover:border-gray-300 backdrop-blur-sm;
  }

  .invoice-card-selected {
    @apply border-blue-500 ring-2 ring-blue-200;
  }

  .glass-morphism {
    @apply bg-white/95 backdrop-blur-lg border border-gray-200/50 shadow-2xl;
  }

  .floating-action-bar {
    @apply fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 glass-morphism rounded-2xl px-4 py-3;
  }

  .badge-indicator {
    @apply bg-purple-500/90 backdrop-blur-sm rounded-full p-1 shadow-sm;
  }

  .budget-indicator {
    @apply bg-green-500/90 backdrop-blur-sm rounded-full p-1 shadow-sm;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Padding responsive */
  .mobile-padding {
    @apply p-3 md:p-4 lg:p-6;
  }

  /* Navigation mobile */
  .mobile-nav-safe-area {
    @apply pb-16 md:pb-0;
  }

  .glass-panel {
    @apply bg-white/75 backdrop-blur-xl border border-cyan-100/70 shadow-[0_10px_30px_rgba(15,23,42,0.08)];
  }

  .glass-panel-strong {
    @apply bg-white/85 backdrop-blur-2xl border border-cyan-100/60 shadow-[0_12px_36px_rgba(14,116,144,0.15)];
  }

  .neon-cta {
    @apply text-gray-900 font-semibold rounded-full border border-cyan-200/80 bg-gradient-to-r from-cyan-300 via-sky-300 to-emerald-300 shadow-[0_0_24px_rgba(34,211,238,0.45)] transition-all duration-200;
  }

  .neon-cta-outline {
    @apply text-cyan-700 font-semibold rounded-full border border-cyan-300/70 bg-white/70 backdrop-blur-lg shadow-[0_0_18px_rgba(14,165,233,0.25)] transition-all duration-200;
  }

  .neon-cta:hover,
  .neon-cta-outline:hover {
    @apply scale-[1.02] shadow-[0_0_28px_rgba(34,211,238,0.6)];
  }
}

@layer utilities {
  /* Utilitaires pour l'optimisation mobile */
  .scroll-smooth-mobile {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }

  /* Débordement sécurisé pour mobile */
  .safe-overflow {
    @apply overflow-x-hidden;
  }

  /* Zone de sécurité pour les appareils avec encoche */
  .safe-area-inset {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  /* Utilitaire pour tronquer le texte sur plusieurs lignes */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Styles pour le slider range personnalisé */
  .slider {
    -webkit-appearance: none;
    appearance: none;
    outline: none;
  }
  
  .slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #3B82F6;
    border: 2px solid #ffffff;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
    cursor: pointer;
    transition: all 0.2s ease;
  }
  
  .slider::-webkit-slider-thumb:hover {
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
  }
  
  .slider::-moz-range-thumb {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #3B82F6;
    border: 2px solid #ffffff;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
    cursor: pointer;
    transition: all 0.2s ease;
  }
  
  .slider::-moz-range-thumb:hover {
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
  }

  .budget-container {
    container-type: inline-size;
  }

  .text-fit-xs {
    font-size: clamp(0.65rem, 2.2vw, 0.78rem);
    font-size: clamp(0.65rem, 2.4cqi, 0.78rem);
    line-height: 1.2;
  }

  .text-fit-sm {
    font-size: clamp(0.75rem, 2.6vw, 0.92rem);
    font-size: clamp(0.75rem, 2.8cqi, 0.92rem);
    line-height: 1.2;
  }

  .text-fit-md {
    font-size: clamp(0.9rem, 3.2vw, 1.08rem);
    font-size: clamp(0.9rem, 3.4cqi, 1.08rem);
    line-height: 1.2;
  }

  .text-fit-lg {
    font-size: clamp(1.05rem, 3.8vw, 1.35rem);
    font-size: clamp(1.05rem, 4cqi, 1.35rem);
    line-height: 1.1;
  }

  .text-fit-xl {
    font-size: clamp(1.25rem, 4.8vw, 1.75rem);
    font-size: clamp(1.25rem, 5cqi, 1.75rem);
    line-height: 1.05;
  }
}
