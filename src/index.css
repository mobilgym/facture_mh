@tailwind base;
@tailwind components;
@tailwind utilities;

/* Optimisations Mobile Globales */
@layer base {
  /* Améliorer la lisibilité sur mobile */
  html {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  /* Optimiser les touches tactiles */
  button, [role="button"], input[type="submit"], input[type="button"] {
    @apply min-h-[44px] min-w-[44px];
  }

  /* Améliorer les zones de clic sur mobile */
  @media (max-width: 768px) {
    .touch-target {
      @apply min-h-[48px] min-w-[48px];
    }
  }
}

@layer components {
  /* Container responsive optimisé */
  .mobile-container {
    @apply px-3 sm:px-4 md:px-6 lg:px-8;
  }

  /* Grille responsive pour cartes */
  .mobile-grid {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-4 lg:gap-6;
  }

  /* Texte responsive */
  .mobile-text {
    @apply text-sm md:text-base;
  }

  .mobile-title {
    @apply text-lg md:text-xl lg:text-2xl;
  }

  /* Espacement responsive */
  .mobile-spacing {
    @apply space-y-3 md:space-y-4 lg:space-y-6;
  }

  /* Classes pour les nouvelles fonctionnalités d'interface */
  .invoice-card {
    @apply bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden border border-gray-200 hover:border-gray-300 backdrop-blur-sm;
  }

  .invoice-card-selected {
    @apply border-blue-500 ring-2 ring-blue-200;
  }

  .glass-morphism {
    @apply bg-white/95 backdrop-blur-lg border border-gray-200/50 shadow-2xl;
  }

  .floating-action-bar {
    @apply fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 glass-morphism rounded-2xl px-4 py-3;
  }

  .badge-indicator {
    @apply bg-purple-500/90 backdrop-blur-sm rounded-full p-1 shadow-sm;
  }

  .budget-indicator {
    @apply bg-green-500/90 backdrop-blur-sm rounded-full p-1 shadow-sm;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Padding responsive */
  .mobile-padding {
    @apply p-3 md:p-4 lg:p-6;
  }

  /* Navigation mobile */
  .mobile-nav-safe-area {
    @apply pb-16 md:pb-0;
  }
}

@layer utilities {
  /* Utilitaires pour l'optimisation mobile */
  .scroll-smooth-mobile {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }

  /* Débordement sécurisé pour mobile */
  .safe-overflow {
    @apply overflow-x-hidden;
  }

  /* Zone de sécurité pour les appareils avec encoche */
  .safe-area-inset {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  /* Utilitaire pour tronquer le texte sur plusieurs lignes */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}